override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    
    // Handle deep link
    intent?.data?.let { uri ->
        if (uri.scheme == "mltprep" && uri.host == "auth-success") {
            val token = uri.getQueryParameter("token")
            if (token != null) {
                // Save token and navigate to home screen
                saveAuthToken(token)
                navigateToHome()
            }
        }
    }
}

override fun onNewIntent(intent: Intent?) {
    super.onNewIntent(intent)
    setIntent(intent)
    
    // Handle deep link when app is already running
    intent?.data?.let { uri ->
        if (uri.scheme == "mltprep" && uri.host == "auth-success") {
            val token = uri.getQueryParameter("token")
            if (token != null) {
                saveAuthToken(token)
                navigateToHome()
            }
        }
    }
}

webView.addJavascriptInterface(object {
    @JavascriptInterface
    fun onAuthSuccess(token: String) {
        runOnUiThread {
            saveAuthToken(token)
            navigateToHome()
        }
    }
}, "Android")