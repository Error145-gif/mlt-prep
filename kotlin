// MainActivity.kt ke andar

override fun onCreate(savedInstanceState: Bundle?) {
    super.onCreate(savedInstanceState)
    // ... existing code ...
    
    // Check if app was opened via Deep Link
    handleDeepLink(intent)
}

override fun onNewIntent(intent: Intent) {
    super.onNewIntent(intent)
    handleDeepLink(intent)
}

private fun handleDeepLink(intent: Intent?) {
    val data: Uri? = intent?.data
    if (data != null && data.scheme == "mltprep" && data.host == "auth-success") {
        val token = data.getQueryParameter("token")
        if (token != null) {
            // 1. Token ko save karein (SharedPreferences ya EncryptedStorage mein)
            saveTokenToStorage(token)
            
            // 2. User ko Dashboard par bhejein
            navigateToDashboard()
            
            Log.d("Auth", "Login Successful! Token: $token")
        }
    }
}
