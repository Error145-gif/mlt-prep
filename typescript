useEffect(() => {
  if (!authLoading && isAuthenticated && user) {
    // Auto-complete registration for ALL users
    autoCompleteRegistration().catch(console.error);
    
    // Immediate redirect without waiting
    const redirect = user?.role === "admin" ? "/admin" : (redirectAfterAuth || "/student");
    navigate(redirect, { replace: true });
  }
}, [authLoading, isAuthenticated, user?.role, user?._id]);
